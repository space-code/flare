name: Publish Page Action

inputs:
  target:
    required: true
    type: string
  base_path:
    required: true
    type: string

runs:
  using: "composite"

  steps:
    - name: Build DocC
      shell: bash
      run: |
        mkdir ./docs;
        swift build;
        swift package \
          --allow-writing-to-directory ./docs \
          generate-documentation \
          --target ${{ inputs.target }} \
          --output-path ./docs/${{ inputs.base_path }} \
          --transform-for-static-hosting \
          --hosting-base-path flare/${{ inputs.base_path }};