{"hierarchy":{"paths":[["doc:\/\/FlareUI\/documentation\/FlareUI"]]},"sections":[],"schemaVersion":{"patch":0,"major":0,"minor":3},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/flareui\/handling-transactions"]}],"metadata":{"roleHeading":"Article","title":"Handling Transactions","modules":[{"name":"FlareUI"}],"role":"article"},"identifier":{"url":"doc:\/\/FlareUI\/documentation\/FlareUI\/handling-transactions","interfaceLanguage":"swift"},"abstract":[{"text":"Learn how to handle transactions.","type":"text"}],"kind":"article","primaryContentSections":[{"content":[{"level":2,"text":"Overview","anchor":"Overview","type":"heading"},{"inlineContent":[{"text":"Views provide a handy way to handle completed or failed transactions using ","type":"text"},{"type":"codeVoice","code":"SwiftUI\/View\/onInAppPurchaseCompletion(completion:)"},{"text":" or ","type":"text"},{"type":"reference","identifier":"doc:\/\/FlareUI\/documentation\/FlareUI\/ProductsViewController\/onInAppPurchaseCompletion","isActive":true},{"text":".","type":"text"}],"type":"paragraph"},{"code":["\/\/ SwiftUI","","ProductsView(ids: [\"com.company.product_id_1\", \"com.company.product_id_2\"])","    .onInAppPurchaseCompletion { result in","        switch result {","        case let .success(transaction):","            \/\/ Handle the transaction","","            \/\/ IMPORTANT: Finish the transaction","        case let .failure(error):","            \/\/ Handle the error","        }","    }"],"type":"codeListing","syntax":"swift"},{"content":[{"type":"paragraph","inlineContent":[{"text":"Once you’ve handled a transaction, don’t forget to finish it using ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/space-code.github.io\/flare\/flare\/documentation\/flare\/iflare\/finish(transaction:completion:)"},{"text":". Read more about ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/space-code.github.io\/flare\/flare\/documentation\/flare\/perform-purchase"},{"text":".","type":"text"}]}],"name":"Important","style":"important","type":"aside"},{"code":["\/\/ UIKit","","let subscriptionsVC = SubscriptionsViewController(ids: [\"com.company.subscription_id_1\"])","subscriptionsVC.onInAppPurchaseCompletion = { result in ","    switch result {","    case let .success(transaction):","        \/\/ Handle the transaction","","        \/\/ IMPORTANT: Finish the transaction","    case let .failure(error):","        \/\/ Handle the error","    }","}"],"type":"codeListing","syntax":"swift"}],"kind":"content"}],"references":{"https://space-code.github.io/flare/flare/documentation/flare/perform-purchase":{"title":"Finishing Transactions","identifier":"https:\/\/space-code.github.io\/flare\/flare\/documentation\/flare\/perform-purchase","url":"https:\/\/space-code.github.io\/flare\/flare\/documentation\/flare\/perform-purchase","type":"link","titleInlineContent":[{"text":"Finishing Transactions","type":"text"}]},"doc://FlareUI/documentation/FlareUI/ProductsViewController/onInAppPurchaseCompletion":{"role":"symbol","abstract":[{"text":"A completion handler for in-app purchase events.","type":"text"}],"fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"onInAppPurchaseCompletion","kind":"identifier"},{"text":": ","kind":"text"},{"text":"PurchaseCompletionHandler","kind":"typeIdentifier","preciseIdentifier":"s:7FlareUI25PurchaseCompletionHandlera"},{"text":"?","kind":"text"}],"kind":"symbol","type":"topic","title":"onInAppPurchaseCompletion","url":"\/documentation\/flareui\/productsviewcontroller\/oninapppurchasecompletion","identifier":"doc:\/\/FlareUI\/documentation\/FlareUI\/ProductsViewController\/onInAppPurchaseCompletion"},"https://space-code.github.io/flare/flare/documentation/flare/iflare/finish(transaction:completion:)":{"title":"Finish Method","identifier":"https:\/\/space-code.github.io\/flare\/flare\/documentation\/flare\/iflare\/finish(transaction:completion:)","url":"https:\/\/space-code.github.io\/flare\/flare\/documentation\/flare\/iflare\/finish(transaction:completion:)","type":"link","titleInlineContent":[{"text":"Finish Method","type":"text"}]},"doc://FlareUI/documentation/FlareUI":{"identifier":"doc:\/\/FlareUI\/documentation\/FlareUI","role":"collection","title":"FlareUI","type":"topic","abstract":[{"type":"text","text":"Display a customizable in-app purchase store using StoreKit views for UIKit and SwiftUI."}],"kind":"symbol","url":"\/documentation\/flareui"}}}